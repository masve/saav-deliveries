<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>Social Data Analysis and Visualization 2016</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

  <!-- Style sheets -->
  <link rel="stylesheet" href="styles/normalize.css" />
  <link rel="stylesheet" href="styles/cayman.css" />
  <link rel="stylesheet" href="styles/styles.css" />

  <link rel="stylesheet" href="bower_components/leaflet/dist/leaflet.css" />


  <!-- Bower components -->
  <script type="text/javascript" src="bower_components/d3/d3.min.js"></script>
  <script type="text/javascript" src="bower_components/lodash/lodash.js"></script>
  <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript" src="bower_components/topojson/topojson.min.js"></script>
  <script type="text/javascript" src="bower_components/leaflet/dist/leaflet.js"></script>

  <!-- CDNs -->

  <!-- our scripts -->
  <script type="text/javascript" src="scripts/knn.js"></script>

  <script>
  //Check for ES 6 support, and alert user if his browser does not support it.
  (function(document) {
    "use strict";
    try {
      eval("var foo = (x)=>x+1");
    } catch (e) {
      alert('This page uses modern javascript, that your browser does not support.\nPlease use a modern browser to display this properly (e.i. Chrome or Firefox).')
    }
  })();
  </script>
</head>

<body>
  <span id="browser-sync-binding"></span>

  <section class="page-header">
    <h1 class="project-name">Social Data Analysis and Visualization 2016</h1>
    <h2 class="project-tagline">Use the buttons to navigate the assignments</h2>
    <a href="https://github.com/masve/saav-deliveries" target="_blank" class="btn">View on GitHub</a>
    <a href="/assigment2.html" class="btn">Assignment 2</a>
    <a href="/" class="btn">Project Assignment A &amp; B</a>
  </section>

  <section id="intro" class="main-content">
    <p>
      This page is to represent the work related to assignements for course Social Data Analysis and Visualization.
    </p>
    <p>
      These exercises has been performed by DTU students:
      <ul class="task-list">
        <li><a href="https://www.campusnet.dtu.dk/cnnet/participants/showperson.aspx?id=147236">s113627</a> Casper Clemmensen</li>
        <li><a href="https://www.campusnet.dtu.dk/cnnet/participants/showperson.aspx?id=209126">s146893</a> Kasper Hoa Quoc Duong</li>
        <li><a href="https://www.campusnet.dtu.dk/cnnet/participants/showperson.aspx?id=147192">s113604</a> Mark Ian Svennningsen</li>
      </ul>
    </p>
  </section>


  <section id="project" class="main-content">
    <h1>Project Assignment A</h1>

    <p>Here we have a small introduction video, that shows the idea behind of data analysis.</p>
    <iframe src="http://www.youtube.com/embed/s6K-tIxNXtA" width="100%" height="400px"></iframe>

  </section>


  <section class="main-content">
    <h2>Explore Your Daily Communute</h2>
    <p>NYC is a big city. A lot of traffic means a high chance for a collision to occur. Over 500 incidents are reported everyday. Therefore, we are providing an opportunity for you to discover the amount of vehicle collisions that has happened throughout the city in the period 2012-2015. Find out where if you can take a safer route to work!</p>
      <p>The size of each point indicates the accumulated amount of incidents that have happened for that
        intersection. The color <span style="color:red">red</span> shows if there is any fatalities. Click on a
        point to get the numeric values.</p>
        <div class="map" id="intersections"></div>
        <p class="small">Note that all intersections with less that 10 collisions and without facilities have been omitted to increase performance.</p>
        <script>
        (function(d) {
          "use strict";

          class Intersection {
            constructor(target) {
              this.maxZoomLevel = 18;
              this.zoomLevel = 12;
              this.accessToken = 'pk.eyJ1IjoiY2xlbW1lIiwiYSI6ImNpbjdhNGR4MTAwMW11c2x6aGlsZXJ2dHoifQ.zKSRPItYOGDGxSUuXr_McQ';
              this.projectionId = 'clemme.pngigh8e';
              this.intersections = [];
              this.scale = d3.scale.linear();
              this.pointOptions = {
                stroke: true,
                color: '#03f',
                clickable: true,
                weight: 2
              };
              this.lowerBound = 10;

              this.map = L.map(target).setView([40.715, -73.984], 11);

              this.map.on('zoomend', (e) => this.zoomChanged(e))

              this.addMapLayer();
              this.loadInterSection();
            }
            zoomChanged(e) {
              this.zoomLevel = e.target._zoom;
            }
            addMapLayer() {
              // Add the map layer to the map (if omitted the map will only be gray box)
              L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
                attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
                maxZoom: this.maxZoomLevel,
                id: this.projectionId,
                accessToken: this.accessToken
              }).addTo(this.map);

            }
            loadInterSection() {
              d3.csv(
                'datasets/collision_counts.csv',
                row => {
                  return {
                    'LOCATION': +row['LOCATION'],
                    'NUMBER OF PERSONS KILLED': +row['NUMBER OF PERSONS KILLED'],
                    'NUMBER OF PERSONS INJURED': +row['NUMBER OF PERSONS INJURED'],
                    'LAT': row['LAT'],
                    'LON': row['LON'].trim()
                  };
                },
                (err, json) => {
                  if (err) {
                    console.log(err);
                  }
                  this.intersections = json;
                  this.scale = this.scale.domain([
                    d3.min(json, j => j.LOCATION),
                    d3.max(json, j => j.LOCATION),
                  ]).range([10, 120]);
                  this.addPoint();
                })
              }
              addPoint() {
                if (this.intersections.length > 0) {
                  this.intersections.forEach( a => {
                    if (a.LOCATION > this.lowerBound || a['NUMBER OF PERSONS KILLED'] > 0 ) {
                      // Add a circle for the given intersection. Adjust the radio with regards to the amount of incidents.
                      L
                      .circle([a.LAT, a.LON], this.scale(a.LOCATION), {
                        color: parseInt(a['NUMBER OF PERSONS KILLED']) >= 1 ? '#F11': '#03f',
                        clickable: true,
                        weight: 2
                      })
                      .bindPopup(`Total collisions: ${a.LOCATION} <br/> Injuries ${a['NUMBER OF PERSONS INJURED']}<br/> Fatalities ${a['NUMBER OF PERSONS KILLED']}`)
                      .addTo(this.map);
                    }
                  });

                }

              }
            }

            document.addEventListener('DOMContentLoaded', new Intersection('intersections'));
          })();
          </script>

        </section>

        <section class="main-content">

          <h2>A Closer Look</h2>
          <p>This is all good. Looking at the worst offenders regarding the number of collisions, can we
            find out why there are worse than the others? Is there any underlying reason for this?
          </p>

          <p>Let's begin by locating the top 10 intersections with the most collisions.</p>

          <svg id="top10intersections" class="center" style="display:block; width:100%"></svg>
          <div id="top10intersectionstooltip" class="hidden tooltip" style="width:400px">
            <p><strong><span id="title">Title</span></strong></p>
            <p>Location:&nbsp;<span id="location">100</span></p>
            <p>Collisions:&nbsp;<span id="col"></span></p>
            <p><i>Click to view</i></p>
          </div>

          <script>
          'use strict';

          class Top10 {
            constructor(svg) {
              this.svg = d3.select(svg);
              this.cvsPath = 'datasets/pb/intersection_top_10.csv';
              this.xScale = d3.scale.ordinal();
              this.yScale = d3.scale.linear();
              svg.style.width = "100%";
              this.paddingLeft = (svg.clientWidth / 5);
              this.paddingTop = 30;
              this.height = 330;
              this.width = svg.clientWidth;
              this.bars = this.svg.append('g');
              this.yAxis = this.svg.append('g');
              this.xAxis = this.svg.append('g');
              this.xLabels = [];
              this.tooltip = d3.select('#top10intersectionstooltip')

              this.data = null;

              svg.style.height = this.height + 100;
              svg.style['padding-left'] = this.paddingLeft;

              d3.csv(
                this.cvsPath,
                (r) => ({collisions: +r['COLLISIONS'], name: `${r['ON STREET NAME']} / ${r['CROSS STREET NAME']}`, location: r['LOCATION']}),
                this.onDataLoaded.bind(this)
              );
            }
            onDataLoaded(data) {
              this.data = data;
              // X scale
              this.xScale = this.xScale.domain(d3.range(data.length))
              .rangeRoundBands([0, 300], 0.05);

              // Y scale
              this.yScale = this.yScale
              .domain([0, d3.max(this.data, d => d.collisions)])
              .range([0, this.width - (2*this.paddingLeft) - 20]);

              this.xLabels = data.map(d => d.name);

              this.render();
            }
            render() {

              const max = d3.max(this.data, d => d.collisions);

              this.bars
              .selectAll('rect')
              .data(this.data)
              .enter()
              .append('rect')
              .attr({
                'x': (d, i) => (this.paddingLeft),
                'height': this.xScale.rangeBand(),
                'fill': 'cornflowerblue',
                'y': (d,i) => (this.xScale(i) + this.paddingTop),
                'width': 0
              })
              .on('mouseover', this.renderTooltip.bind(this))
              .on('mouseout', this.hideTooltip.bind(this))
              .on('click', this.sendToMaps.bind(this))
              .transition()
              .duration(2000)
              .delay((d, i) => ((i / this.data.length * 1000) + 10000))
              .attr({
                'width': d => (Math.abs(this.yScale(0) - this.yScale(d.collisions)))
              })


              this.renderAxis();
            }
            renderTooltip(aCollision) {

              this.tooltip
              .classed('hidden', false)
              .transition()
              .style('left', `${d3.event.pageX}px`)
              .style('top', `${d3.event.pageY}px`)
              .style('opacity', 1)
              .duration(100);

              this.tooltip.select('#title').text(aCollision.name);
              this.tooltip.select('#col').text(aCollision.collisions);
              this.tooltip.select("#location").text(aCollision.location);
            }
            hideTooltip() {
              this.tooltip
              .transition()
              .duration(150)
              .style('opacity', 0);
            }
            renderAxis() {
              // Define axes

              let xAxis = d3.svg.axis().scale(this.xScale).orient('left').tickFormat((d) => this.xLabels[d]).tickValues(d3.range(10));
              let yAxis = d3.svg.axis().scale(this.yScale).orient('bottom').ticks(11);

              // Add y axis to histogram
              this.xAxis.attr({
                'class': 'axis',
                'transform': `translate(${this.paddingLeft}, ${this.paddingTop})`
              }).call(xAxis);

              this.yAxis.attr({
                'class': 'axis',
                'transform': `translate(${this.paddingLeft}, ${this.height})`
              })
              .call(yAxis)
              .selectAll("text")
              .style("text-anchor", "end")
              .attr({
                'dx': '.8em'
              });

            }
            sendToMaps(aCollision) {
              const [lat, lon] = _.trim(aCollision.location, ['(', ')']).split(',');
              const url = `http://maps.google.com/maps?z=12&t=t&q=loc:${lat.trim()}+${lon.trim()}`
              window.open(url, '_blank').focus();
            }
          }




          document.addEventListener("DOMContentLoaded", new Top10(document.querySelector('svg#top10intersections')));
          </script>

          <p>By hovering over each bar in the top 10 bar chart. We can find that the intersection
            Tillary Street / Flatbush Avenue Extension is the <i>most dangerous</i> intesection - by some margin - based
            on the 585 collisions happening.</p>

            <p>For now, we can only guess, but clicking on the Tillary Street / Flatbush Avenue Extension bar, or
              looking below one could assume that the intersection is the perfect storm. The intersection is
              right before a highway access/exit ramp and extends into Manhattan by the Manhattan Bridge.</p>

              <!-- <h4>TILLARY STREET / FLATBUSH AVENUE EXTENSION</h4>
              <img alt="Flatbush Ave" src="images/streetview/Flatbush_Ave.png" />
              <h4>EAST 59 STREET / 2 AVENUE</h4>
              <img alt="Flatbush Ave" src="images/streetview/EAST59STREET.png" /> -->

              <h4>TILLARY STREET / FLATBUSH AVENUE EXTENSION</h4>
              <div id="Flatbush" class="img-switch-container">
                <img alt="Flatbush Ave" data-img="primary" src="images/streetview/Flatbush_Ave.png" class="img-switch-primary shadow"/>
                <img alt="Flatbush Ave" data-img="secondary" class="shadow img-switch-secondary" src="images/streetview/Flatbush_Ave_map.png"/>
              </div>
              <!-- <h4>EAST 59 STREET / 2 AVENUE</h4>
              <img alt="Flatbush Ave" src="images/streetview/EAST59STREET.png"/> -->

              <p>What we see is in the top 10. Is that most of the intersections have a few things in common; they are next to
                a highway access/exit ramp or one block from one.</p>
              </section>
              <section class="main-content">

              </section>

              <section class="main-content">
                <h2>Traffic and Weather in New York City</h2>
                <p>We all assume that weather has a big impact on the traffic anywhere. Collisions are far more likely to happen
                  in bad weather. So what is bad weather really? Is there any condition that is whose than others? And if so can
                  we found out which so you can be more aware in traffic during one of these?</p>

                  <p>By combining the Motor Vehicle Collisions dataset with weather data from
                    <a href="wunderground.com">Weather Underground</a>
                    we are able to find out which weather condition on average produces the most collisions per hour.
                    The data data has been normalized with the most common weather condition, Mostly Cloudy.</p>
                    <svg id="weatherfreq" class="center" style="display:block; width:100%"></svg>

                    <script>
                    'use strict';

                    class WeatherFreq {
                      constructor(svg) {
                        this.svg = d3.select(svg);
                        this.jsonPath = 'datasets/pb/freq_weather.json';
                        this.xScale = d3.scale.ordinal();
                        this.yScale = d3.scale.linear();
                        svg.style.width = "100%";
                        this.paddingLeft = (svg.clientWidth / 5);
                        this.paddingTop = 30;
                        this.height = 330;
                        this.width = svg.clientWidth;
                        this.bars = this.svg.append('g');
                        this.yAxis = this.svg.append('g');
                        this.xAxis = this.svg.append('g');
                        this.xLabels = [];

                        this.data = null;

                        svg.style.height = this.height + 30;
                        svg.style['padding-left'] = this.paddingLeft;

                        d3.json(
                          this.jsonPath,
                          this.onDataLoaded.bind(this)
                        )
                      }
                      onDataLoaded(data) {
                        this.data = data;
                        // X scale
                        this.xScale = this.xScale.domain(d3.range(_.size(data)))
                        .rangeRoundBands([0, 300], 0.05);


                        // Y scale
                        this.yScale = this.yScale
                        .domain([0, d3.max(d3.values(this.data))])
                        .range([0, this.width - (2*this.paddingLeft) - 20]);

                        this.xLabels = d3.keys(this.data);

                        this.renderBars();
                        this.renderAxis();
                      }
                      renderBars() {

                        const max = d3.max(d3.values(this.data));

                        this.bars
                        .selectAll('rect')
                        .data(d3.values(this.data))
                        .enter()
                        .append('rect')
                        .attr({
                          'x': (d, i) => (this.paddingLeft),
                          'height': this.xScale.rangeBand(),
                          'fill': 'cornflowerblue',
                          'y': (d,i) => (this.xScale(i) + this.paddingTop),
                          'width': 0
                        })
                        // .on('mouseover', this.renderTooltip.bind(this))
                        // .on('mouseout', this.hideTooltip.bind(this))
                        // .on('click', this.sendToMaps.bind(this))
                        // .transition()
                        // .duration(2000)
                        // .delay((d, i) => ((i / this.data.length * 1000) + 10000))
                        .attr({
                          'width': d => (Math.abs(this.yScale(0) - this.yScale(d)))
                        })
                      }
                      renderAxis() {
                        // Define axes
                        let xAxis = d3.svg.axis().scale(this.xScale).orient('left').tickFormat((d) => this.xLabels[d]);
                        let yAxis = d3.svg.axis().scale(this.yScale).orient('bottom').ticks(11);

                        // Add y axis to histogram
                        this.xAxis.attr({
                          'class': 'axis',
                          'transform': `translate(${this.paddingLeft}, ${this.paddingTop})`
                        }).call(xAxis);

                        this.yAxis.attr({
                          'class': 'axis',
                          'transform': `translate(${this.paddingLeft}, ${this.height})`
                        })
                        .call(yAxis)
                        .selectAll("text")
                        .style("text-anchor", "end")
                        .attr({
                          'dx': '.8em'
                        });
                        // debugger;
                        this.svg.append('line')
                        .attr({
                          'y1': this.yScale.range()[0]+this.paddingTop,
                          'y2': this.yScale.range()[1]-this.paddingTop,
                          'x1': this.paddingLeft + (Math.abs(this.yScale(0) - this.yScale(this.data['Mostly Cloudy']))),
                          'x2': this.paddingLeft + (Math.abs(this.yScale(0) - this.yScale(this.data['Mostly Cloudy']))),
                          'stroke': 'grey',
                          'stroke-width': '1',
                          'stroke-dasharray': '10, 10'
                        });
                      }
                    }

                    document.addEventListener("DOMContentLoaded", new WeatherFreq(document.querySelector('svg#weatherfreq')));
                    </script>

                    <p>
                      From the visualization we see a clear uptick in the collision frequency <i>rainy</i> and <i>snowy</i> conditions.
                      Up to 60%, more collisions compared to Mostly Cloudy conditions. In completely Clear weather seems to hover around 40% less.
                      It does however also raises some questions. Why are the conditions Blowing Snow and Heavy Snow so far down the list?
                    </p>

                    <p>
                      In early 2015 and 2016, NYC experienced two blizzards. In both cases, NYPD issued Travel Bans meaning that only emergency
                      vehicles were allowed on the roads. This could be a tell in why we in the very bad weather we do not see the uptick
                      in collision frequency in very bad weather.
                    </p>
                    <blockquote class="twitter-tweet tw-align-center" data-lang="en"><p lang="en" dir="ltr">At 11pm tonight, streets will only be available to emergency vehicles. <a href="https://twitter.com/hashtag/SafeNYC?src=hash">#SafeNYC</a></p>&mdash; NYPD NEWS (@NYPDnews) <a href="https://twitter.com/NYPDnews/status/559779586603769857">January 26, 2015</a></blockquote>
                    <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
                    <blockquote class="twitter-tweet tw-align-center" data-lang="en"><p lang="en" dir="ltr">After 2:30 p.m and you&#39;re on the road, we will arrest you <a href="https://twitter.com/NYPDChiefofDept">@NYPDChiefofDept</a> says</p>&mdash; NYPD NEWS (@NYPDnews) <a href="https://twitter.com/NYPDnews/status/690955566529773568">January 23, 2016</a></blockquote>
                    <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
                    <p class="small">
                      Has anyone else caught a cold during spring-time, where it is getting warmer but not warm enough to not wear a jacket?
                    </p>

                    <p>
                      Okay, now that we have confirmed that the frequency of collisions is higher for same conditions relative to Mostly Cloudy.
                      Can we find any causes in the Motor Vehicle Collisions dataset that might have been affected by the weather conditions?

                      <ul style='font-family: Courier;'>
                        <li>
                          Accidents caused by Pavement Slippery: 8426
                        </li>
                        <li>
                          Accidents caused by Glare: 1491
                        </li>
                        <li>
                          Accidents caused by Pavement Defective: 889
                        </li>
                      </ul>

                      There seems to be a lot of collisions caused by slippery pavement. Let's look at the weather conditions for those collisions
                      and see if they match what we have already found.
                    </p>

                    <svg id="slipperypavement" class="center" style="display:block; width:100%"></svg>

                    <script>
                    'use strict';

                    class SplipperyPavement {
                      constructor(svg) {
                        this.svg = d3.select(svg);
                        this.jsonPath = 'datasets/pb/slippery_pavement.json';
                        this.xScale = d3.scale.ordinal();
                        this.yScale = d3.scale.linear();
                        svg.style.width = "100%";
                        this.paddingLeft = (svg.clientWidth / 5);
                        this.paddingTop = 30;
                        this.height = 330;
                        this.width = svg.clientWidth;
                        this.bars = this.svg.append('g');
                        this.yAxis = this.svg.append('g');
                        this.xAxis = this.svg.append('g');
                        this.xLabels = [];

                        this.data = null;

                        svg.style.height = this.height + 30;
                        svg.style['padding-left'] = this.paddingLeft;

                        d3.json(
                          this.jsonPath,
                          this.onDataLoaded.bind(this)
                        )
                      }
                      onDataLoaded(data) {
                        this.data = data;
                        // X scale
                        this.xScale = this.xScale.domain(d3.range(_.size(data)))
                        .rangeRoundBands([0, 300], 0.05);


                        // Y scale
                        this.yScale = this.yScale
                        .domain([0, d3.max(d3.values(this.data))])
                        .range([0, this.width - (2*this.paddingLeft) - 20]);

                        this.xLabels = d3.keys(this.data);

                        this.renderBars();
                        this.renderAxis();
                      }
                      renderBars() {

                        const max = d3.max(d3.values(this.data));

                        this.bars
                        .selectAll('rect')
                        .data(d3.values(this.data))
                        .enter()
                        .append('rect')
                        .attr({
                          'x': (d, i) => (this.paddingLeft),
                          'height': this.xScale.rangeBand(),
                          'fill': 'cornflowerblue',
                          'y': (d,i) => (this.xScale(i) + this.paddingTop),
                          'width': 0
                        })
                        // .on('mouseover', this.renderTooltip.bind(this))
                        // .on('mouseout', this.hideTooltip.bind(this))
                        // .on('click', this.sendToMaps.bind(this))
                        // .transition()
                        // .duration(2000)
                        // .delay((d, i) => ((i / this.data.length * 1000) + 10000))
                        .attr({
                          'width': d => (Math.abs(this.yScale(0) - this.yScale(d)))
                        })
                      }
                      renderAxis() {
                        // Define axes
                        let xAxis = d3.svg.axis().scale(this.xScale).orient('left').tickFormat((d) => this.xLabels[d]);
                        let yAxis = d3.svg.axis().scale(this.yScale).orient('bottom').ticks(11);

                        // Add y axis to histogram
                        this.xAxis.attr({
                          'class': 'axis',
                          'transform': `translate(${this.paddingLeft}, ${this.paddingTop})`
                        }).call(xAxis);

                        this.yAxis.attr({
                          'class': 'axis',
                          'transform': `translate(${this.paddingLeft}, ${this.height})`
                        })
                        .call(yAxis)
                        .selectAll("text")
                        .style("text-anchor", "end")
                        .attr({
                          'dx': '.8em'
                        });
                      }
                    }

                    document.addEventListener("DOMContentLoaded", new SplipperyPavement(document.querySelector('svg#slipperypavement')));
                    </script>

                  </section>

                  <!--<section class="main-content">
                  <h2>Distribution By Postal District</h2>
                  <svg id="projectMap"></svg>
                  <div id="tooltip" class="hidden tooltip">
                  <p><strong>Zip code:&nbsp; <span id="title">Title</span></strong></p>
                  <p>Name:&nbsp;<span id="value">100</span></p>
                  <p>Population:&nbsp;<span id="pop"></span></p>
                  <p>Collisions:&nbsp;<span id="col"></span></p>
                </div>
                <button id="toggle" data-toggle="pop" class="btn btncolor toggle" style="width:25%" disabled>VIEW COLLISIONS</button>
                <script>
                (function(doo) {
                'use strict';

                document.addEventListener("DOMContentLoaded", new KNN(document.querySelector('svg#projectMap'), document.querySelector('button#toggle')));
              })();
            </script>

          </section>-->

        </section>

        <section id="info" class="main-content">
          <footer class="site-footer">
            <span class="site-footer-owner">For DTU course <a href="http://www.kurser.dtu.dk/courses/02806/default.aspx?menulanguage=en-GB">Social Data Analysis and Visualization</a> 2016 in relation to assignments described by <a href="https://github.com/suneman/socialdataanalysis2016/wiki/Assignments">suneman</a>.</span>
            <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
          </footer>
        </section>
        <script>
        $(function() {
          $('a[href*="#"]:not([href="#"])').click(function() {
            if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
              var target = $(this.hash);
              target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
              if (target.length) {
                $('html, body').animate({
                  scrollTop: target.offset().top
                }, 1000);
                return false;
              }
            }
          });
        });
        </script>
      </body>

      </html>
